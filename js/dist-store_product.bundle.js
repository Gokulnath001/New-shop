!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(self,(function(){return e=function(e){var t="";return e.querySelectorAll(".bb-store-product-option").forEach((function(e){t+=e.value})),t},t=function(t,r){var o=r.variants||{},a="",n=!1;if(r.useVariantData){if((a=e(t))&&o[a]&&(n=o[a]),a){var i=a;-1===i.indexOf("0")&&(i=i.replace(/.$/,"0"));for(var l=Object.keys(o),c=i.replace(/0/g,"\\w"),u=new RegExp(c),s="",d=0,p=l.length;d<p;d++)if(s=l[d],u.test(s))if(o[s].VISIBILITY)for(var f=0,b=s.length;f<b;f++){var v=s[f];if(v!==i[f]){var y=t.querySelectorAll(".bb-store-product-option")[f].querySelector('option[value="'+v+'"]');y.classList.add("visible"),y.classList.remove("hidden")}}else for(var S=0,m=s.length;S<m;S++){var h=s[S];if(h!==i[S]){var q=t.querySelectorAll(".bb-store-product-option")[S],g=q.querySelector('option[value="'+h+'"]');if(g.classList.add("hidden"),g.selected){var T=q.querySelector("option[selected]");T&&T.removeAttribute("selected");var E=q.querySelectorAll('option[class="visible"]');E.length?E[0].selected=!0:q.options[0].selected=!0}}}}n.VISIBILITY||(n=!(!(a=e(t))||!o[a])&&o[a])}var x=r.price,A=r.price;n&&o[a]&&(x+=o[a].SURCHARGE),A=Store.getDiscountedPrice(x,r.discountValue,r.discountType);var L=t.querySelector('input[name="bb-product-qty"]'),_=L?parseInt(L.value):1;x*=_,A*=_,t.querySelector(".bb-product-final-price").innerHTML=formatMoney(A);var I=t.querySelector(".bb-product-original-price");if(I&&(I.innerHTML=formatMoney(x)),4==r.inventoryStatus&&!r.outOfStockPurchase&&r.useVariantData&&n){var k=n.INVENTORY,w=t.querySelector(".bb-product-inventory-label");w&&(w.innerHTML=k,w.parentElement.style.display=k>0?"inline":"none");var B=t.querySelector(".bb-store-add-product");B&&(k<=0?(B.innerHTML="Out of Stock",B.disabled=!0,B.style.opacity=.8):(B.innerHTML="Add to Cart",B.disabled=!1,B.style.opacity=1))}},r=function(e,t,r,o){if("undefined"!=typeof gtag&&BentoBox.siteSettings.hasGAStore){var a=0,n=t.querySelector(".bb-product-final-price");n&&(a=parseFloat(n.innerText));var i=a,l=t.querySelector(".bb-product-original-price");l&&(i=parseFloat(l.innerText));var c={item_name:t.querySelector(".bb-product-name h3").innerText,currency:"USD",discount:i-a,price:i,item_variant:"",quantity:1},u=t.querySelector(".bb-store-product-sku");u&&(c.item_id=u.innerText);var s=t.querySelectorAll(".bb-product-bc a");if(s){var d=1;s.forEach((function(e){c["item_category".concat(1==d?"":d)]=e.innerText,d++}))}"add_to_cart"==e&&(t.querySelectorAll(".bb-store-product-option option:checked").forEach((function(e){e&&e.innerText&&(c.item_variant+=e.innerText+", ")})),c.item_variant=c.item_variant.substring(0,c.item_variant.length-2),c.quantity=o.qty),"undefined"!=typeof gtag&&BentoBox.siteSettings.hasGAStore&&gtag("event",e,{currency:"USD",value:a,items:[c]})}},document.querySelectorAll(".bb-store-product").forEach((function(o){var a=o.querySelector(".bb-store-product-form");if(a){var n=a.querySelector(".bb-product-data");n=n?JSON.parse(n.textContent):{},o.querySelectorAll(".bb-product-share-links a").forEach((function(e){e.addEventListener("click",(function(){"undefined"!=typeof gtag&&BentoBox.siteSettings.hasGAStore&&gtag("event","share",{method:e.href.includes("twitter")?"Twitter":"Facebook",content_type:"product",item_id:o.querySelector(".bb-product-name h3").innerText})}),!1)})),a.querySelectorAll(".bb-store-product-option").forEach((function(e){e.addEventListener("change",(function(e){t(o,n)}),!1)})),a.querySelectorAll('input[name="bb-product-qty"]').forEach((function(e){e.addEventListener("change",(function(e){t(o,n)}),!1)})),a.addEventListener("submit",(function(t){t.preventDefault(),a.querySelectorAll(".invalid-tooltip").forEach((function(e){return e.remove()}));var i=[],l=0;if(3!=n.addToCartType){var c=a.querySelector('input[name="bb-product-qty"]');if(!c)return;l=parseInt(c.value),(isNaN(l)||l<=0||l>100)&&i.push({$el:c,label:"Please enter a valid quantity"})}var u=e(o);if(3!=n.addToCartType&&4==n.inventoryStatus&&!n.outOfStockPurchase){var s=n.inventory;n.useVariantData&&u&&n.variants[u]&&(s=n.variants[u].INVENTORY),l>s&&i.push({$el:$qty,label:s+" in stock"})}a.querySelectorAll(".bb-store-product-option").forEach((function(e){e.value||i.push({$el:e,label:e.querySelector("option").innerHTML})}));var d=a.querySelector('textarea[name="bb-options-customTextLabel"]'),p="",f="";d&&(p=String(d.value||"").trim(),f=d.getAttribute("aria-label"),d.required&&!p&&i.push({$el:input,label:"Please fill out this field"}));var b=[];if(a.querySelectorAll(".bb-store-product-field").forEach((function(e){var t=String(e.value||"").trim();e.required&&!t?i.push({$el:e,label:"Please fill out this field"}):t&&b.push({label:e.getAttribute("aria-label"),value:t})})),i.length)i.forEach((function(e){var t=document.createElement("div");t.classList.add("invalid-tooltip"),t.innerHTML=e.label,e.$el.parentNode.insertBefore(t,e.$el.nextSibling)})),i[0].$el.scrollIntoView();else{var v=n.itemKey;u&&n.variants[u]&&(v=n.variants[u].ITEMKEY);var y={itemKey:v,qty:l,customText:p,customTextLabel:f,fields:b};if(3==n.addToCartType)BentoBox.loadScript("/js/dist/store_product_contact.bundle.js",{loadingContainer:document.body}).then((function(){BentoBox.ProductContact(y,n,o)}));else if(Store){r("add_to_cart",o,0,{qty:y.qty});var S=new URLSearchParams(window.location.search).get("productQuickView");top!==self&&S&&1==S?(parent.document.querySelector(".modal .close").click(),parent.Store.addCartItem(y)):Store.addCartItem(y)}else alert("Oops: Unable to load store cart. Please try again later.")}})),a.querySelectorAll(".bb-store-add-product").forEach((function(e){e.removeAttribute("disabled")})),r("view_item",o)}})),document.querySelectorAll(".product-thumbnail-image").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.closest(".product-images").querySelector(".swiper");t&&t.swiper&&(document.querySelectorAll(".product-thumbnail-image").forEach((function(e){return e.classList.remove("active")})),e.currentTarget.closest(".product-thumbnail-image").classList.add("active"),t.swiper.slideTo(e.currentTarget.getAttribute("data-index")))}))})),{};var e,t,r}));